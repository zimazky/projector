# Рекомендации по определению цветовой схемы в UI

Этот документ описывает современные подходы к определению цветовых схем в пользовательских интерфейсах и предлагает конкретные рекомендации для проекта Projector, основываясь на анализе существующих UI-компонентов.

## Современные практики определения цветовых схем

В современной веб-разработке стандартом является использование **CSS Custom Properties** (также известных как CSS-переменные) для управления цветами. Это обеспечивает гибкость, облегчает поддержку и позволяет легко реализовать различные темы (например, темную/светлую) и брендинг.

Ключевые принципы:

1.  **CSS Custom Properties:** Все цвета должны быть определены как CSS-переменные. Это позволяет управлять цветами централизованно и изменять их значения без изменения кода, где они используются. Переменные объявляются в глобальной области видимости (например, в `:root` или на элементе, который служит провайдером темы).

    ```css
    :root {
      --brand-primary: #1976d2;
      --text-color-default: #333333;
      /* и так далее */
    }
    ```

2.  **Семантическое именование:** Переменные должны называться не по их текущему цветовому значению (например, `--blue-500`), а по их *назначению* или *роли* в интерфейсе (например, `--color-primary`, `--text-on-background`, `--background-surface`). Это критически важно для легкой смены тем: вы можете изменить значение `--color-primary` с синего на зеленый, не меняя его семантического смысла.

3.  **Роли цветов:** Определите основной набор ролей для цветов:
    *   **Брендовые цвета (Brand Colors):**
        *   `--color-primary`: Основной цвет бренда (например, для интерактивных элементов, заголовков).
        *   `--color-primary-light`, `--color-primary-dark`: Более светлые/темные оттенки основного цвета.
        *   `--color-secondary`: Второстепенный брендовый цвет (для акцентов).
        *   `--color-secondary-light`, `--color-secondary-dark`: Оттенки второстепенного цвета.

**Отличие Primary от Secondary цветов:**

Разделение на primary и secondary цвета является фундаментальным аспектом построения согласованной и интуитивно понятной цветовой схемы в дизайне пользовательского интерфейса. Оно помогает управлять визуальной иерархией и направлять внимание пользователя.

*   **Primary цвета:** Это основные цвета вашего бренда или приложения. Они используются для наиболее важных элементов, которые требуют наибольшего внимания или указывают на основное действие.
    *   **Зачем разделять:** Primary цвет должен быть доминирующим и наиболее узнаваемым. Он задает общий тон и ощущение приложения.
    *   **Примеры использования:**
        *   Кнопки основных действий (например, "Сохранить", "Отправить", "Добавить").
        *   Активные элементы навигации.
        *   Заголовки или ключевые элементы, которые должны выделяться.
        *   Активные индикаторы (например, прогресс-бары, выделенные вкладки).

*   **Secondary цвета:** Эти цвета дополняют primary цвета и используются для второстепенных действий, акцентов, которые не требуют такого же уровня внимания, как primary элементы, или для выделения элементов, не связанных напрямую с основным брендом, но важных для функциональности.
    *   **Зачем разделять:** Secondary цвет предоставляет вариативность и позволяет выделить второстепенные, но важные действия или информацию без конкуренции с primary цветом. Он может использоваться для создания визуального интереса или для обозначения различных категорий действий.
    *   **Примеры использования:**
        *   Кнопки второстепенных действий (например, "Отмена", "Редактировать", "Удалить" - если для удаления не используется специальный цвет ошибки).
        *   Акцентные элементы, такие как переключатели, флажки, ползунки (слайдеры).
        *   Небольшие индикаторы, значки.
        *   Текстовые ссылки, которые не являются частью основного действия.
        *   Выделение определенных категорий данных или событий (например, в календаре, если primary цвет используется для основного интерфейса, secondary может выделять определенные типы событий).
    *   **Цвета текста (Text Colors):**
        *   `--color-text-default`: Основной цвет текста.
        *   `--color-text-secondary`: Второстепенный цвет текста (например, для подписей, мета-информации).
        *   `--color-text-disabled`: Цвет текста для неактивных элементов.
        *   `--color-text-on-primary`, `--color-text-on-secondary`: Цвет текста, который хорошо читается на фоне `--color-primary` или `--color-secondary`.
    *   **Цвета фона (Background Colors):**
        *   `--color-background-page`: Цвет фона всей страницы.
        *   `--color-background-surface`: Цвет фона для компонентов, которые "поднимаются" над страницей (карточки, модальные окна, панели).
        *   `--color-background-hover`: Цвет фона для состояния наведения (hover).
        *   `--color-background-overlay`: Цвет для затемнения фона под модальными окнами.
    *   **Цвета границ (Border Colors):**
        *   `--color-border-default`: Цвет границ по умолчанию.
        *   `--color-border-focus`: Цвет границ для элементов в фокусе.
    *   **Цвета состояний (State Colors):**
        *   `--color-success`: Для успешных операций (зеленый).
        *   `--color-warning`: Для предупреждений (оранжевый/желтый).
        *   `--color-error`: Для ошибок (красный).
        *   `--color-info`: Для информационных сообщений (синий/голубой).

4.  **Поддержка темной темы (Dark Mode):** Используйте медиа-запросы `@media (prefers-color-scheme: dark)` для определения альтернативных значений CSS-переменных в зависимости от предпочтений пользователя.

    ```css
    @media (prefers-color-scheme: dark) {
      :root {
        --color-background-page: #121212;
        --color-text-default: rgba(255, 255, 255, 0.87);
        /* и так далее */
      }
    }
    ```

5.  **Доступность (Accessibility):** Всегда проверяйте контрастность цветов текста и фона, чтобы убедиться, что они соответствуют стандартам WCAG (минимум AA, желательно AAA).

## Рекомендации для проекта Projector

На основе анализа существующих `.module.css` файлов, видно, что в проекте используется смешанный подход: есть как жестко закодированные цвета (например, `#1976d2`, `rgba(0, 0, 0, 0.7)`, `#FFF`, `red`), так и некоторые CSS-переменные (например, `--ui-backgroung-color`, `--ui-border-focus-color`, `--color-primary-light`, `--text-color-secondary`, `--primary-color`).

Для приведения проекта к современным стандартам и облегчения дальнейшей разработки, а также внедрения темной темы, предлагается следующая стратегия:

1.  **Создать файл с глобальными переменными:** В `src/1-app/styles/variables.css` (или аналогичном) определить все рекомендованные ниже CSS Custom Properties.

2.  **Заменить все жестко закодированные цвета:** Пройтись по всем `.module.css` файлам и заменить жестко закодированные цвета на соответствующие CSS-переменные.

3.  **Унифицировать существующие переменные:** Существующие переменные (`--ui-backgroung-color`, `--ui-border-focus-color`, `--color-primary-light`, `--text-color-secondary`, `--primary-color`) следует переименовать или переопределить через новую семантическую систему. Например:
    *   `--ui-backgroung-color` -> `var(--color-background-surface)`
    *   `--ui-border-focus-color` -> `var(--color-border-focus)`
    *   `--color-primary-light` (уже хорошо) -> сохранить, но убедиться, что он является частью `color-primary` палитры.
    *   `--text-color-secondary` (уже хорошо) -> сохранить.
    *   `--primary-color` -> `var(--color-primary)`

### Предлагаемые CSS Custom Properties:

Определите следующие переменные в `variables.css` (светлая тема по умолчанию):

```css
/* src/1-app/styles/variables.css */

:root {
  /* Brand Colors */
  --color-primary: #1976d2; /* Используется для кнопок, акцентов, основной синий */
  --color-primary-light: #42a5f5; /* Более светлый оттенок primary */
  --color-primary-dark: #0d47a1; /* Более темный оттенок primary */
  --color-secondary: #dc004e; /* Второстепенный акцентный цвет (например, красный) */
  --color-secondary-light: #ff4081;
  --color-secondary-dark: #9a0036;

  /* Text Colors */
  --color-text-default: rgba(0, 0, 0, 0.87); /* Основной текст (черный с прозрачностью) */
  --color-text-secondary: rgba(0, 0, 0, 0.6); /* Второстепенный текст */
  --color-text-disabled: rgba(0, 0, 0, 0.38); /* Неактивный текст */
  --color-text-on-primary: #ffffff; /* Текст на primary фоне */
  --color-text-on-secondary: #ffffff; /* Текст на secondary фоне */

  /* Background Colors */
  --color-background-page: #f5f5f5; /* Фон страницы (светло-серый) */
  --color-background-surface: #ffffff; /* Фон для карточек, модальных окон (белый) */
  --color-background-hover: rgba(0, 0, 0, 0.05); /* Фон при наведении */
  --color-background-overlay: rgba(0, 0, 0, 0.5); /* Фон для оверлеев (модальных окон) */

  /* Border Colors */
  --color-border-default: rgba(0, 0, 0, 0.12); /* Цвет границ по умолчанию */
  --color-border-focus: var(--color-primary); /* Цвет границ в фокусе */

  /* State Colors */
  --color-success: #4caf50; /* Зеленый */
  --color-warning: #ffc107; /* Оранжевый */
  --color-error: #f44336; /* Красный */
  --color-info: #2196f3; /* Синий */

  /* Общие UI переменные, которые могут быть переопределены новыми семантическими */
  /* --ui-backgroung-color: var(--color-background-surface); */
  /* --ui-border-focus-color: var(--color-border-focus); */
}

/* Пример для темной темы */
@media (prefers-color-scheme: dark) {
  :root {
    /* Brand Colors (Dark Theme) */
    --color-primary: #90caf9;
    --color-primary-light: #e3f2fd;
    --color-primary-dark: #42a5f5;
    --color-secondary: #f48fb1;
    --color-secondary-light: #ffc1e3;
    --color-secondary-dark: #bf5f82;

    /* Text Colors (Dark Theme) */
    --color-text-default: rgba(255, 255, 255, 0.87);
    --color-text-secondary: rgba(255, 255, 255, 0.6);
    --color-text-disabled: rgba(255, 255, 255, 0.38);
    --color-text-on-primary: #000000; /* В темной теме текст на primary фоне может быть черным */
    --color-text-on-secondary: #000000;

    /* Background Colors (Dark Theme) */
    --color-background-page: #121212; /* Очень темный серый */
    --color-background-surface: #1e1e1e; /* Чуть светлее, чем page */
    --color-background-hover: rgba(255, 255, 255, 0.08);
    --color-background-overlay: rgba(0, 0, 0, 0.7);

    /* Border Colors (Dark Theme) */
    --color-border-default: rgba(255, 255, 255, 0.12);
    --color-border-focus: var(--color-primary);

    /* State Colors (Dark Theme) - могут быть такими же или адаптированы */
    --color-success: #81c784;
    --color-warning: #ffeb3b;
    --color-error: #e57373;
    --color-info: #64b5f6;
  }
}
```

### Более расширенные системы цветовых свойств

Предложенный набор CSS Custom Properties является отличной отправной точкой и покроет большинство потребностей проекта. Однако существуют более расширенные системы, которые могут быть полезны в следующих случаях:

1.  **Более гранулярные состояния интерактивных элементов:**
    *   В дополнение к базовым цветам, могут быть определены специфичные переменные для состояний `hover`, `active`, `focus`, `pressed` и `disabled` для *каждого* цветового семейства (primary, secondary, success, error и т.д.).
    *   Пример: `--color-primary-hover`, `--color-primary-active`, `--color-button-secondary-disabled-background`.

2.  **Различные уровни акцентирования текста:**
    *   Для обеспечения оптимальной читаемости на различных фонах и создания визуальной иерархии, можно определить несколько уровней контрастности для текста.
    *   Пример: `--color-text-high-emphasis`, `--color-text-medium-emphasis`, `--color-text-low-emphasis`.

3.  **Более глубокая семантическая детализация:**
    *   Для крупных и сложных приложений, где есть множество специфичных элементов UI, можно использовать более детальные семантические названия.
    *   Пример: `--color-background-app-bar`, `--color-surface-card`, `--color-icon-default`, `--color-divider`.

4.  **Поддержка множества тем или вариантов компонентов:**
    *   Если приложению требуется поддерживать более двух тем (например, "синяя", "зеленая", "компактная" и т.д.), или если компоненты имеют множество визуальных вариантов, система переменных может стать более сложной, возможно, с использованием каскадных переменных или условных классов.

5.  **Интеграция с дизайн-токенами и инструментами:**
    *   В больших дизайн-системах цвета часто управляются через дизайн-токены, которые затем преобразуются в CSS-переменные с помощью инструментов сборки. Это обеспечивает единство дизайна между различными платформами (веб, мобильные приложения) и инструментами дизайна (Figma, Sketch).

**Примеры существующих систем:**

*   **Material Design:** Предоставляет очень детальные рекомендации по цветовым палитрам, типографике и компонентам, включая специфичные роли для цветов и их состояний.
*   **Tailwind CSS:** Использует утилитарный подход, но его система настройки цветов через `tailwind.config.js` позволяет генерировать обширные палитры, которые затем могут быть использованы с CSS-переменными.
*   **Дизайн-системы крупных компаний:** Например, IBM Carbon Design System, Atlassian Design System, Google Material Design – все они имеют очень проработанные и расширяемые системы управления цветами.

**Рекомендация для Projector:**

Предложенный ранее набор переменных является адекватным и надежным фундаментом для большинства потребностей Projector на текущем этапе. Переход к более сложной системе целесообразен, если:
*   Возникает острая необходимость в более тонком контроле над состояниями или акцентами UI.
*   Проект значительно расширяется и требует поддержки множества специфичных компонентов или тем.
*   Вводится полноценная дизайн-система с унифицированными дизайн-токенами.

Начните с предложенной базовой системы. Расширяйте ее постепенно, добавляя новые переменные по мере возникновения реальных дизайн-потребностей. Избегайте преждевременной оптимизации и избыточного усложнения.```

### Шаги по внедрению:

1.  **Создать файл:** Создайте `src/1-app/styles/variables.css` и вставьте в него предложенные CSS-переменные.
2.  **Импортировать:** Импортируйте этот файл в основной CSS-файл вашего приложения (например, `src/1-app/index.css`) или в `src/1-app/App/App.css`.
3.  **Заменить:** Постепенно заменяйте все жестко закодированные цвета и старые, несемантические переменные на новые семантические CSS Custom Properties.

Внедрение этой системы значительно упростит управление темами, улучшит доступность и сделает кодовую базу более предсказуемой и легкой для расширения.
